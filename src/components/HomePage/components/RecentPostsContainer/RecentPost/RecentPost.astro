---
import { Image } from 'astro:assets';

interface Props {
	slug: string;
	data: {
		image: {
			src: string;
			alt: string;
		};
		title: string;
		date: string;
	};
}

const { data, slug } = Astro.props;
const { title, date, image } = data;
---

<a
	href={`blog/${slug}`}
	transition:name={slug}>
	<article class="post-container">
		<span class="title-date">
			<h1>{title}</h1>
			<p title="dd/mm/yyyy">{date}</p>
		</span>
		<span class="post-img">
			<Image
				src={image.src}
				alt={image.alt}
				height={200}
				width={200}
			/>
		</span>
	</article>
</a>

<style lang="scss">
	a {
		@include general-properties(75%, 25rem);
		max-height: clamp(20rem, 15vw, 30rem);
		box-shadow: 0px 0px 5px 0px $color;
		border-radius: 10px;
		transition: 200ms;
		overflow: hidden;

		&:hover {
			scale: 1.01;
			box-shadow: 0px 0px 10px 0px $color;
		}

		@include media-query($media-md) {
			width: 100%;
		}
	}

	.post-container {
		@include display-flex(column);
		height: 100%;
		border-radius: 10px;
		position: relative;

		.title-date {
			@include general-properties(100%, auto);
			min-height: 5rem;
			background-color: $secondColor;
			border-radius: 10px 10px 0 0;
			position: relative;

			h1 {
				@include general-properties(100%, 100%);
				@include display-flex(row, center, center);
				@include font($fontMontserrat, 1.8rem, #363654, center);
				font-weight: 600;
				padding: 1rem;
			}
			p {
				@include font($fontMontserrat, 0.6rem, #363654, end);
				position: absolute;
				bottom: 4%;
				right: 1%;
			}
			@include media-query($media-md) {
				h1 {
					font-size: 1.5rem;
				}
				P {
					font-size: 0.5rem;
				}
			}
		}
		.post-img {
			@include general-properties(100%, 100%);
			@include display-flex(column, center, center);
			flex: 1;
			border-radius: 0 0 10px 10px;
			background-color: rgba(255, 255, 255, 0.589);

			img {
				@include image(clamp(15rem, 10vw, 30rem), auto, cover);
			}
		}
	}
</style>
